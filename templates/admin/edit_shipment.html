{% extends 'layout.html' %}

{% block title %}Edit Shipment - Bexo Cargo Admin{% endblock %}

{% block content %}
<div class="container-fluid py-5 mt-5">
    <div class="row">
        <!-- Sidebar -->
        <div class="col-lg-3 col-xl-2">
            <div class="card mb-4 border-0 shadow">
                <div class="card-body">
                    <div class="text-center mb-4">
                        <div class="mb-3">
                            <i class="fas fa-user-circle fa-3x text-primary"></i>
                        </div>
                        <h5 class="mb-1">Admin</h5>
                        <p class="text-muted mb-0">{{ current_user.username }}</p>
                    </div>
                    
                    <nav class="nav flex-column">
                        <a class="nav-link text-dark mb-2" href="{{ url_for('admin.dashboard') }}">
                            <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                        </a>
                        <a class="nav-link text-dark mb-2" href="{{ url_for('admin.bookings') }}">
                            <i class="fas fa-shipping-fast me-2"></i> Shipments
                        </a>
                        <a class="nav-link text-dark mb-2" href="{{ url_for('admin.logout') }}">
                            <i class="fas fa-sign-out-alt me-2"></i> Logout
                        </a>
                    </nav>
                </div>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="col-lg-9 col-xl-10">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <div>
                    <a href="{{ url_for('admin.view_shipment', tracking_number=shipment.tracking_number) }}" class="text-decoration-none mb-2 d-inline-block">
                        <i class="fas fa-arrow-left me-2"></i>Back to Shipment
                    </a>
                    <h1 class="mb-0">Edit Shipment</h1>
                </div>
            </div>
            
            <div class="card border-0 shadow">
                <div class="card-header bg-white py-3">
                    <h5 class="mb-0">Edit Shipment Details</h5>
                </div>
                <div class="card-body">
                    <form action="{{ url_for('admin.edit_shipment', tracking_number=shipment.tracking_number) }}" method="POST">
                        {{ edit_form.csrf_token }}
                        
                        <!-- Sender Information -->
                        <h6 class="mb-3">Sender Information</h6>
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label for="sender_name" class="form-label">Name</label>
                                {{ edit_form.sender_name(class="form-control", id="sender_name") }}
                            </div>
                            <div class="col-md-6">
                                <label for="sender_email" class="form-label">Email</label>
                                {{ edit_form.sender_email(class="form-control", id="sender_email") }}
                            </div>
                            <div class="col-md-6">
                                <label for="sender_contact" class="form-label">Contact</label>
                                {{ edit_form.sender_contact(class="form-control", id="sender_contact") }}
                            </div>
                            <div class="col-md-6">
                                <label for="sender_address" class="form-label">Address</label>
                                {{ edit_form.sender_address(class="form-control", id="sender_address", rows="3") }}
                            </div>
                        </div>
                        
                        <!-- Recipient Information -->
                        <h6 class="mb-3">Recipient Information</h6>
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label for="recipient_name" class="form-label">Name</label>
                                {{ edit_form.recipient_name(class="form-control", id="recipient_name") }}
                            </div>
                            <div class="col-md-6">
                                <label for="recipient_email" class="form-label">Email</label>
                                {{ edit_form.recipient_email(class="form-control", id="recipient_email") }}
                            </div>
                            <div class="col-md-6">
                                <label for="recipient_contact" class="form-label">Contact</label>
                                {{ edit_form.recipient_contact(class="form-control", id="recipient_contact") }}
                            </div>
                            <div class="col-md-6">
                                <label for="recipient_address" class="form-label">Address</label>
                                {{ edit_form.recipient_address(class="form-control", id="recipient_address", rows="3") }}
                            </div>
                        </div>
                        
                        <!-- Cargo Information -->
                        <h6 class="mb-3">Cargo Information</h6>
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <label for="cargo_name" class="form-label">Name</label>
                                {{ edit_form.cargo_name(class="form-control", id="cargo_name") }}
                            </div>
                            <div class="col-md-6">
                                <label for="cargo_description" class="form-label">Description</label>
                                {{ edit_form.cargo_description(class="form-control", id="cargo_description", rows="3") }}
                            </div>
                            <div class="col-md-3">
                                <label for="cargo_length" class="form-label">Length (cm)</label>
                                {{ edit_form.cargo_length(class="form-control", id="cargo_length") }}
                            </div>
                            <div class="col-md-3">
                                <label for="cargo_width" class="form-label">Width (cm)</label>
                                {{ edit_form.cargo_width(class="form-control", id="cargo_width") }}
                            </div>
                            <div class="col-md-3">
                                <label for="cargo_height" class="form-label">Height (cm)</label>
                                {{ edit_form.cargo_height(class="form-control", id="cargo_height") }}
                            </div>
                            <div class="col-md-3">
                                <label for="cargo_weight" class="form-label">Weight (kg)</label>
                                {{ edit_form.cargo_weight(class="form-control", id="cargo_weight") }}
                            </div>
                        </div>
                        
                        <div class="d-flex justify-content-end gap-2">
                            <a href="{{ url_for('admin.view_shipment', tracking_number=shipment.tracking_number) }}" class="btn btn-outline-secondary">
                                Cancel
                            </a>
                            <button type="submit" class="btn btn-primary">
                                Save Changes
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}